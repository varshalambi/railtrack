{"ast":null,"code":"const handleLogin = async e => {\n  e.preventDefault();\n  try {\n    const response = await axios.post(\"http://localhost:3000/api/login\", {\n      username,\n      password\n    });\n    const {\n      token,\n      role\n    } = response.data;\n\n    // Store token in localStorage\n    localStorage.setItem(\"token\", token);\n    localStorage.setItem(\"role\", role.toLowerCase()); // Store role as lowercase\n\n    // Redirect based on role\n    if (role.toLowerCase() === \"admin\") {\n      navigate(\"/admin-dashboard\");\n    } else if (role.toLowerCase() === \"representative\") {\n      navigate(\"/representative-dashboard\");\n    } else if (role.toLowerCase() === \"customer\") {\n      navigate(\"/customer-dashboard\");\n    } else {\n      setError(\"Unknown role. Please contact support.\");\n    }\n  } catch (err) {\n    var _err$response, _err$response$data;\n    setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Login failed. Try again.\");\n  }\n};","map":{"version":3,"names":["handleLogin","e","preventDefault","response","axios","post","username","password","token","role","data","localStorage","setItem","toLowerCase","navigate","setError","err","_err$response","_err$response$data","error"],"sources":["/Users/pavanmadamsetty/Documents/DBDS/railway-booking-frontend/src/pages/Login.js"],"sourcesContent":["const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"http://localhost:3000/api/login\", {\n        username,\n        password,\n      });\n  \n      const { token, role } = response.data;\n  \n      // Store token in localStorage\n      localStorage.setItem(\"token\", token);\n      localStorage.setItem(\"role\", role.toLowerCase()); // Store role as lowercase\n  \n      // Redirect based on role\n      if (role.toLowerCase() === \"admin\") {\n        navigate(\"/admin-dashboard\");\n      } else if (role.toLowerCase() === \"representative\") {\n        navigate(\"/representative-dashboard\");\n      } else if (role.toLowerCase() === \"customer\") {\n        navigate(\"/customer-dashboard\");\n      } else {\n        setError(\"Unknown role. Please contact support.\");\n      }\n    } catch (err) {\n      setError(err.response?.data?.error || \"Login failed. Try again.\");\n    }\n  };\n  "],"mappings":"AAAA,MAAMA,WAAW,GAAG,MAAOC,CAAC,IAAK;EAC7BA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACC,IAAI,CAAC,iCAAiC,EAAE;MACnEC,QAAQ;MACRC;IACF,CAAC,CAAC;IAEF,MAAM;MAAEC,KAAK;MAAEC;IAAK,CAAC,GAAGN,QAAQ,CAACO,IAAI;;IAErC;IACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,KAAK,CAAC;IACpCG,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEH,IAAI,CAACI,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;;IAElD;IACA,IAAIJ,IAAI,CAACI,WAAW,CAAC,CAAC,KAAK,OAAO,EAAE;MAClCC,QAAQ,CAAC,kBAAkB,CAAC;IAC9B,CAAC,MAAM,IAAIL,IAAI,CAACI,WAAW,CAAC,CAAC,KAAK,gBAAgB,EAAE;MAClDC,QAAQ,CAAC,2BAA2B,CAAC;IACvC,CAAC,MAAM,IAAIL,IAAI,CAACI,WAAW,CAAC,CAAC,KAAK,UAAU,EAAE;MAC5CC,QAAQ,CAAC,qBAAqB,CAAC;IACjC,CAAC,MAAM;MACLC,QAAQ,CAAC,uCAAuC,CAAC;IACnD;EACF,CAAC,CAAC,OAAOC,GAAG,EAAE;IAAA,IAAAC,aAAA,EAAAC,kBAAA;IACZH,QAAQ,CAAC,EAAAE,aAAA,GAAAD,GAAG,CAACb,QAAQ,cAAAc,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcP,IAAI,cAAAQ,kBAAA,uBAAlBA,kBAAA,CAAoBC,KAAK,KAAI,0BAA0B,CAAC;EACnE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}